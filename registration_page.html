<!DOCTYPE html>
<html lang="ha">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mafita Dubu | Royal Sky</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sky-bg: #f0f9ff;
            --dark-gold: #b8860b; /* Asalin Dark Gold */
            --soft-gold: #daa520;
            --input-border: #cbd5e1;
        }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: linear-gradient(135deg, #e0f2fe 0%, #7dd3fc 100%);
            display: flex; align-items: center; justify-content: center; 
            min-height: 100vh; margin: 0; padding: 20px;
        }
        .royal-card {
            /* Kalar katin: Dark Gold mai dan gaskiya (Transparent) */
            background: rgba(184, 134, 11, 0.08); 
            backdrop-filter: blur(15px);
            border: 2px solid var(--dark-gold);
            border-radius: 30px; /* Shape mai lankwasa mai kyau */
            padding: 35px 30px;
            width: 100%; max-width: 380px; /* An rage fadin katin */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        .header-title { 
            font-size: 1.4rem; font-weight: 800; color: #0c4a6e; 
            text-align: center; margin-bottom: 25px; 
            text-transform: uppercase; letter-spacing: 1px;
        }

        .input-group { margin-bottom: 15px; }
        label { 
            font-size: 0.65rem; font-weight: 700; color: #0c4a6e; 
            margin-bottom: 5px; display: block; letter-spacing: 0.5px;
        }
        
        /* Sleek Inputs */
        .sleek-input {
            width: 100%; background: white;
            border: 1px solid var(--input-border);
            padding: 10px 15px; border-radius: 12px; /* Lankwasa mai kyau */
            color: #1e293b; font-size: 0.85rem; transition: 0.3s;
            outline: none;
        }
        .sleek-input:focus { 
            border-color: var(--dark-gold);
            box-shadow: 0 0 8px rgba(184, 134, 11, 0.2);
        }

        /* Inline Send Button */
        .email-box { position: relative; display: flex; align-items: center; }
        .btn-send {
            position: absolute; right: 5px; 
            background: var(--dark-gold);
            color: white; font-size: 0.65rem; font-weight: 700;
            padding: 6px 10px; border-radius: 8px; cursor: pointer;
            border: none;
        }

        .btn-register {
            background: linear-gradient(135deg, var(--dark-gold) 0%, var(--soft-gold) 100%);
            color: white; font-weight: 700;
            width: 100%; padding: 14px; border-radius: 12px;
            margin-top: 15px; font-size: 0.9rem; border: none;
            cursor: pointer; box-shadow: 0 10px 15px -3px rgba(184, 134, 11, 0.3);
            transition: 0.3s;
        }
        .btn-register:hover { transform: scale(1.02); filter: brightness(1.1); }
    </style>
</head>
<body>

    <div class="royal-card">
        <h1 class="header-title">Register</h1>

        <form id="regForm">
            <div class="input-group">
                <label>FULL NAME</label>
                <input type="text" id="fullName" class="sleek-input" placeholder="Enter name" required>
            </div>

            <div class="input-group">
                <label>EMAIL ADDRESS</label>
                <div class="email-box">
                    <input type="email" id="email" class="sleek-input" placeholder="mail@example.com" required>
                    <button type="button" class="btn-send" id="sendOtp">SEND</button>
                </div>
            </div>

            <div class="input-group">
                <label>OTP CODE</label>
                <input type="text" id="otpCode" class="sleek-input" placeholder="6-digit code" required>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <div class="input-group">
                    <label>PHONE</label>
                    <input type="tel" id="phone" class="sleek-input" placeholder="080..." required>
                </div>
                <div class="input-group">
                    <label>STATE</label>
                    <input type="text" id="location" class="sleek-input" placeholder="Location" required>
                </div>
            </div>

            <div class="input-group">
                <label>PASSWORD</label>
                <input type="password" id="pass" class="sleek-input" placeholder="••••••••" required>
            </div>

            <button type="submit" class="btn-register">CREATE ACCOUNT</button>
        </form>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDJfUePiQV5R1YAcnq-zvfd3ty4lbzDs1M",
            authDomain: "global-market-admin.firebaseapp.com",
            projectId: "global-market-admin",
            storageBucket: "global-market-admin.firebasestorage.app",
            messagingSenderId: "259715265619",
            appId: "1:259715265619:web:313919773f57cc5fb9c2a6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        document.getElementById('sendOtp').addEventListener('click', function() {
            if(!document.getElementById('email').value) return alert("Saka email!");
            this.innerText = "SENT";
            this.style.background = "#15803d";
        });

        document.getElementById('regForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('.btn-register');
            btn.innerText = "PROCESSING...";
            try {
                await addDoc(collection(db, "users"), {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    location: document.getElementById('location').value,
                    timestamp: new Date()
                });
                window.location.href = "index.html";
            } catch (err) { alert(err.message); btn.innerText = "CREATE ACCOUNT"; }
        });
    </script>
</body>
</html>
